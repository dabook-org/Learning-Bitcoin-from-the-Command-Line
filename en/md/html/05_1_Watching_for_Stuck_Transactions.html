<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>05_1_Watching_for_Stuck_Transactions</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="watching-for-stuck-transactions">5.1: Watching for Stuck
Transactions</h1>
<p>Sometimes a Bitcoin transaction can get stuck. Usually it’s because
there wasn’t sufficient transaction fee, but it can also be because of a
one-time network or software glitch.</p>
<h2 id="watch-your-transactions">Watch Your Transactions</h2>
<p>You should <em>always</em> watch to ensure that your transactions go
out. <code>bitcoin-cli listtransactions</code> will show all of your
incoming and outgoing transactions, while
<code>bitcoin-cli gettransaction</code> with a txid will show a specific
transaction.</p>
<p>The following shows a transaction that has not been put into a block.
You can tell this because it has no confirmations.</p>
<pre><code>$ bitcoin-cli -named gettransaction txid=fa2ddf84a4a632586d435e10880a2921db6310dfbd6f0f8f583aa0feacb74c8e
{
  &quot;amount&quot;: -0.00020000,
  &quot;fee&quot;: -0.00001000,
  &quot;confirmations&quot;: 0,
  &quot;trusted&quot;: true,
  &quot;txid&quot;: &quot;fa2ddf84a4a632586d435e10880a2921db6310dfbd6f0f8f583aa0feacb74c8e&quot;,
  &quot;walletconflicts&quot;: [
  ],
  &quot;time&quot;: 1592953220,
  &quot;timereceived&quot;: 1592953220,
  &quot;bip125-replaceable&quot;: &quot;no&quot;,
  &quot;details&quot;: [
    {
      &quot;address&quot;: &quot;tb1qw508d6qejxtdg4y5r3zarvary0c5xw7kxpjzsx&quot;,
      &quot;category&quot;: &quot;send&quot;,
      &quot;amount&quot;: -0.00020000,
      &quot;vout&quot;: 0,
      &quot;fee&quot;: -0.00001000,
      &quot;abandoned&quot;: false
    }
  ],
  &quot;hex&quot;: &quot;02000000014cda1f42a1bd39d8d0ff5958a804bc2bc548b71d7ceadbde53ea15aeaf1e2691000000006a473044022016a7a9f045a0f6a52129f48adb7da35c2f54a0741d6614e9d55b8a3bc3e1490a0220391e9085a3697bc790e94bb924d5310e16f23489d9c600864a32674e871f523c01210278608b54b8fb0d8379d3823d31f03a7c6ab0adffb07dd3811819fdfc34f8c132ffffffff02204e000000000000160014751e76e8199196d454941c45d1b3a323f1433bd6e8030000000000001600146c45d3afa8762086c4bd76d8a71ac7c976e1919600000000&quot;</code></pre>
<p>A transaction can be considered stuck if it stays in this state for
an extended amount of time. Not too many years ago, you could be sure
that every transaction would go out <em>eventually</em>. But, that’s no
longer the case due to the increased usage of Bitcoin. Now, if a
transaction is stuck too long, it will drop out of the mempool and then
be lost from the Bitcoin network.</p>
<blockquote>
<p>:book: <strong><em>What is mempool?</em></strong> Mempool (or Memory
Pool) is a pool of all unconfirmed transactions at a bitcoin node. These
are the transactions that a node has received from the p2p network which
are not yet included in a block. Each bitcoin node can have a slightly
different set of transactions in its mempool: different transactions
might have propogated to a specific node. This depends on when the node
was last started and also its limits on how much it’s willing to store.
When a miner makes a block, he uses transactions from his mempool. Then,
when a block is verified, all the miners remove the transactions it
contains from their pools. As of Bitcoin 0.12, unconfirmed transactions
can also expire from mempools if they’re old enough, typically, 72
hours, and as of version 0.14.0 eviction time was increased to 2 weeks.
Mining pools might have their own mempool-management mechanisms.</p>
</blockquote>
<p>This list of all <a
href="https://blockchain.info/unconfirmed-transactions">unconfirmed
transactions</a> might not match any individual machine’s mempool, but
it should (mostly) be a superset of them.</p>
<h2 id="decide-what-to-do">Decide What to Do</h2>
<p>If your transaction is stuck longer than you want, you can typically
do one of four things:</p>
<p><strong>1. Wait Until it Clears.</strong> If you sent your
transaction with a low or medium fee, it should eventually go through.
As shown at <a href="https://mempool.space">Mempool Space</a>, those
with lower fees <em>will</em> get delayed. (Take a look at the leftmost
transaction, and see how long it’s been waiting and how much it paid for
its fee.)</p>
<p><strong>2. Wait Until it Expires.</strong> If you accidentally sent
with no transaction fee, or if any number or other conditions are met,
then your transaction might never go through. However, your coins aren’t
lost. As long as you don’t have a wallet that purposefully resends
unconfirmed transactions, it should clear from the mempool in three days
or so, and then you can try again.</p>
<p><strong>3. Use RBF as the Sender.</strong> If you are the sender of
the transaction, and you opted-in to RBF (Replace-By-Fee), then you can
try again with a higher fee. See <a
href="05_2_Resending_a_Transaction_with_RBF.md">§5.2: Resending a
Transaction with RBF</a>.</p>
<p><strong>4. Use CPFP as the Receiver.</strong> Alternatively, if you
are the receiver of the transaction, you can use CPFP
(Child-pays-for-parent) to use the unconfirmed transaction as an input
to a new transaction. See <a
href="05_3_Funding_a_Transaction_with_CPFP.md">§5.3: Funding a
Transaction with CPFP</a>.</p>
<h2 id="summary-watching-for-stuck-transactions">Summary: Watching for
Stuck Transactions</h2>
<p>This is an introduction to the power of Bitcoin transactions. If you
know that a transaction is stuck, then you can decide to free it up with
features like RBF or CPFP.</p>
<h2 id="whats-next">What’s Next?</h2>
<p>Continue “Controlling Bitcoin Transactions” with <a
href="05_2_Resending_a_Transaction_with_RBF.md">§5.2: Resending a
Transaction with RBF</a>.</p>
</body>
</html>
