<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>04_1_Sending_Coins_The_Easy_Way</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="sending-coins-the-easy-way">4.1: Sending Coins the Easy Way</h1>
<p>The <code>bitcoin-cli</code> offers three major ways to send coins:
as a simple command; as a raw transaction; and as a raw transaction with
calculation. Each has their own advantages and disadvantages. This first
method for sending coins is also the simplest.</p>
<h2 id="set-your-transaction-fee">Set Your Transaction Fee</h2>
<p>Before you send any money on the Bitcoin network, you should think
about what transaction fees you‚Äôre going to pay.</p>
<blockquote>
<p>:book: <strong><em>What is a transaction fee?</em></strong> There‚Äôs
no such thing as a free lunch. Miners incorporate transactions into
blocks because they‚Äôre paid to do so. Not only do they get paid by the
network for making the block, but they also get paid by transactors for
including their transactions. If you don‚Äôt pay a fee, your transaction
might get stuck ‚Ä¶ forever (or, until saved by some of the tricks in <a
href="05_0_Controlling_Bitcoin_Transactions.md">Chapter Five</a>).</p>
</blockquote>
<p>When you‚Äôre using the simple and automated methods for creating
transactions, as outlined here and in <a
href="04_5_Sending_Coins_with_Automated_Raw_Transactions.md">¬ß4.5:
Sending Coins with Automated Raw Transactions</a>, Bitcoin will
calculate transaction fees for you. This is done using Floating Fees,
where the <code>bitcoind</code> watches how long transactions are taking
to confirm and automatically calculates for you what to spend.</p>
<p>You can help control this by putting rational values into your
<code>~/.bitcoin/bitcoin.conf</code>. The following low-cost values
would ensure that there was a minimum transaction fee of 10,000 satoshis
per kByte of data in your transaction and request that the floating fees
figure out a good amount to get your transaction somewhere into the next
six blocks.</p>
<pre><code>mintxfee=0.0001
txconfirmtarget=6</code></pre>
<p>However, under the theory that you don‚Äôt want to wait around while
working on a tutorial, we‚Äôve adopted the following higher values:</p>
<pre><code>mintxfee=0.001
txconfirmtarget=1</code></pre>
<p>You should enter these into <code>~/.bitcoin/bitcoin.conf</code>, in
the main section, toward the top of the file or if you want to be sure
you never use it elsewhere, under the <code>[test]</code> section.</p>
<p>In order to get through this tutorial, we‚Äôre willing to spend 100,000
satoshis per kB on every transaction (about $10!), and we want to get
each transaction into the next block! (To put that in perspective, a
typical transaction runs between .25 kB and 1 kB, so you‚Äôll actually be
paying more like $2.50 than $10 ‚Ä¶ if this were real money.)</p>
<p>After you‚Äôve edited your bitcoin.conf file, you‚Äôll want to kill and
restart bitcoind.</p>
<pre><code>$ bitcoin-cli stop
$ bitcoind -daemon</code></pre>
<h2 id="get-an-address">Get an Address</h2>
<p>You need somewhere to send your coins to. Usually, someone would send
you an address, and perhaps give you a signature to prove they own that
address. Alternatively, they might give you a QR code to scan, so that
you can‚Äôt make mistakes when typing in the address. In our case, we‚Äôre
going to send coins to <code>n2eMqTT929pb1RDNuqEnxdaLau1rxy3efi</code>,
which is a return address for an old Tesetnet faucet.</p>
<blockquote>
<p>:book: <strong><em>What is a QR code?</em></strong> A QR code is just
an encoding of a Bitcoin address. Many wallets will generate QR codes
for you, while some sites will convert from an address to a QR code.
Obviously, you should only accept a QR code from a site that you
absolutely trust. A payer can use a bar-code scanner to read in the QR
code, then pay to it.</p>
</blockquote>
<h2 id="send-the-coins">Send the Coins</h2>
<p>You‚Äôre now ready to send some coins. This is actually quite simple
via the command line. You just use
<code>bitcoin-cli sendtoaddress [address] [amount]</code>. So, to send a
little coinage to the address
<code>n2eMqTT929pb1RDNuqEnxdaLau1rxy3efi</code> just requires:</p>
<pre><code>$ txid=$(bitcoin-cli sendtoaddress n2eMqTT929pb1RDNuqEnxdaLau1rxy3efi 0.001)
$ echo $txid
93250d0cacb0361b8e21030ac65bc4c2159a53de1075425d800b2d7a8ab13ba8</code></pre>
<blockquote>
<p>üôè To help keep testnet faucets alive, try to use the return address
of the same faucet you used in the previous chapter on receiving
transactions.</p>
</blockquote>
<p>Make sure the address you write in is where you want the money to go.
Make <em>double</em> sure. If you make mistakes in Bitcoin, there‚Äôs no
going back.</p>
<p>You‚Äôll receive a txid back when you issue this command.</p>
<blockquote>
<p>‚ùï You may end up with an error code if you don‚Äôt have enough funds
in your wallet to send the transaction. Depending on your current
balance <code>bitcoin-cli getbalance</code> you may need to adjust the
amount to be sent to account for the amount being sent along with the
transaction fee. If your current balance is 0.001, then you could try
sending 0.0001. Alternatively, it would be better to instead subtract
the expected fee given in the error message from your current balance.
This is good practice as many wallets expect you to calculate your own
amount + fees when withdrawing, even among popular exchanges.</p>
</blockquote>
<blockquote>
<p>:warning: <strong>WARNING:</strong> The <code>bitcoin-cli</code>
command actually generates JSON-RPC commands when it‚Äôs talking to the
bitcoind. They can be really picky. This is an example: if you list the
bitcoin amount without the leading zero (i.e.¬†‚Äú.1‚Äù instead of ‚Äú0.1‚Äù),
then bitcoin-cli will fail with a mysterious message.</p>
</blockquote>
<blockquote>
<p>:warning: <strong>WARNING:</strong> Even if you‚Äôre careful with your
inputs, you could see ‚ÄúFee estimation failed. Fallbackfee is disabled.‚Äù
Fundamentally, this means that your local <code>bitcoind</code> doesn‚Äôt
have enough information to estimate fees. You should really never see it
if you‚Äôve waited for your blockchain to sync and set up your system with
Bitcoin Standup. But if you‚Äôre not entirely synced, you may see this. It
also could be that you‚Äôre not using a standard
<code>bitcoin.conf</code>: the entry <code>blocksonly=1</code> will
cause your <code>bitcoind</code> to be unable to estimate fees.</p>
</blockquote>
<h2 id="examine-your-transaction">Examine Your Transaction</h2>
<p>You can look at your transaction using your transaction id:</p>
<pre><code>{
  &quot;amount&quot;: -0.00100000,
  &quot;fee&quot;: -0.00022200,
  &quot;confirmations&quot;: 0,
  &quot;trusted&quot;: true,
  &quot;txid&quot;: &quot;93250d0cacb0361b8e21030ac65bc4c2159a53de1075425d800b2d7a8ab13ba8&quot;,
  &quot;walletconflicts&quot;: [
  ],
  &quot;time&quot;: 1592604194,
  &quot;timereceived&quot;: 1592604194,
  &quot;bip125-replaceable&quot;: &quot;no&quot;,
  &quot;details&quot;: [
    {
      &quot;address&quot;: &quot;n2eMqTT929pb1RDNuqEnxdaLau1rxy3efi&quot;,
      &quot;category&quot;: &quot;send&quot;,
      &quot;amount&quot;: -0.00100000,
      &quot;vout&quot;: 1,
      &quot;fee&quot;: -0.00022200,
      &quot;abandoned&quot;: false
    }
  ],
  &quot;hex&quot;: &quot;0200000001e982921bb0189afc486e20bb05cc5825c71a0ba8868043ed04ece9ab0cb12a8e010000006a47304402200fc493a01c5c9d9574f7c321cee6880f7f1df847be71039e2d996f7f75c17b3d02203057f5baa48745ba7ab5f1d4eed11585bd8beab838b1ca03a4138516fe52b3b8012102fd5740996d853ea51a6904cf03257fc11204b0179f344c49739ec5b20b39c9bafeffffff02e8640d0000000000160014d37b6ae4a917bcc873f6395741155f565e2dc7c4a0860100000000001976a914e7c1345fc8f87c68170b3aa798a956c2fe6a9eff88ac780b1b00&quot;
}</code></pre>
<p>You can see not only the amount transferred (.001 BTC) but also a
transaction fee (.000222 BTC), which is about a quarter of the .001
BTC/kB minimum fee that was set, which suggests that the transaction was
about a quarter of a kB in size.</p>
<p>While you are waiting for this transaction to clear, you‚Äôll note that
<code>bitcoin-cli getbalance</code> shows that all of your money is gone
(or, at least, all of your money from a single incoming transaction).
Similarly, <code>bitcoin-cli listunspent</code> will show that an entire
transaction is gone, even if it was more than what you wanted to send.
There‚Äôs a reason for this: whenever you get money in, you have to send
it <em>all</em> out together, and you have to perform some gymnastics if
you actually want to keep some of it! Once again,
<code>sendtoaddress</code> takes care of this all for you, which means
you don‚Äôt have to worry about making change until you send a raw
transaction. In this case, a new transaction will appear with your
change when your spend is incorporated into a block.</p>
<h2 id="summary-sending-coins-the-easy-way">Summary: Sending Coins the
Easy Way</h2>
<p>To send coins the easy way, make sure your transaction defaults are
rationale, get an address, and send coins there. That‚Äôs why they call it
easy!</p>
<blockquote>
<p>:fire: <strong><em>What is the power of sending coins the easy
way?</em></strong></p>
</blockquote>
<blockquote>
<p><em>The advantages.</em> It‚Äôs easy. You don‚Äôt have to worry about
arcane things like UTXOs. You don‚Äôt have to calculate transaction fees
by hand, so you‚Äôre not likely to make mistakes that cost you large
amounts of money. If your sole goal is to sit down at your computer and
send some money, this is the way to go.</p>
</blockquote>
<blockquote>
<p><em>The disadvantages.</em> It‚Äôs high level. You have very little
control over what‚Äôs happening, and you can‚Äôt do anything fancy. If
you‚Äôre planning to write more complex Bitcoin software or want a deeper
understanding of how Bitcoin works, then the easy way is just a dull
diversion before you get to the real stuff.</p>
</blockquote>
<h2 id="whats-next">What‚Äôs Next?</h2>
<p>Continue ‚ÄúSending Bitcoin Transactions‚Äù with <a
href="04_2_Creating_a_Raw_Transaction.md">¬ß4.2 Creating a Raw
Transaction</a>.</p>
</body>
</html>
